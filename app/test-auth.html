<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Testing Twitter Auth</title>

        <script src="https://cdn.firebase.com/js/client/2.2.9/firebase.js"></script>
    </head>
    <body>
        <button id="twitter-signin">Sign in to twitter</button>
        <p>Deployed w/ travis</p>
        <script>
            var btn = document.getElementById('twitter-signin');

            btn.addEventListener('click', function () {
                var ref = new Firebase("https://the-web-aint-hard.firebaseio.com");
                    ref.authWithOAuthPopup("twitter", function(err, authData) {

                    if (err) {
                        console.log("Login Failed!", err);
                    } else {
                        console.log("Authenticated successfully with payload:", authData);
                        btn.innerHTML = 'You signed in as ' + authData.twitter.username;
                    }
                });
            });
        </script>
    </body>
</html>
